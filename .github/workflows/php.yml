name: PHP Composer

on:
  push:
    branches: [ test ]
  pull_request:
    branches: [ master ]

jobs:
  tests:
    runs-on: ubuntu-latest
    env:
      # https://github.com/docker/compose/issues/7306
      COMPOSE_INTERACTIVE_NO_CLI: 1
      DOCKER_USER_GID: 1000
      DOCKER_USER_UID: 1000
    steps:
      - uses: actions/checkout@v2

      - name: Init project
        run: whoami

      - name: Init project 1
        run: id -u

      - name: Init project 2
        run: id -g

      - name: Run check
        run: ls -la